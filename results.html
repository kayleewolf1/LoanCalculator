<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loan Calculator Results</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>Loan Calculator Results</h1>
        <div id="results" class="show">
            <h2>Results:</h2>
            <div class="results-grid">
                <div class="result-item" id="resultLoanAmount"></div>
                <div class="result-item" id="resultPurchasePrice"></div>
                <div class="result-item" id="resultLTV"></div>
                <div class="result-item" id="resultFICO"></div>
                <div class="result-item" id="resultPropertyType"></div>
                <div class="result-item" id="resultState"></div>
            </div>
            <button onclick="window.location.href='index.html'" style="margin-top: 20px;">Back to Calculator</button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const results = JSON.parse(localStorage.getItem('loanResults'));
            if (!results) {
                window.location.href = 'index.html';
                return;
            }

            document.getElementById('resultLoanAmount').textContent = 
                `Loan Amount: $${results.loanAmount.toLocaleString(undefined, {maximumFractionDigits: 2})}`;
            document.getElementById('resultPurchasePrice').textContent = 
                `Purchase Price: $${results.purchasePrice.toLocaleString(undefined, {maximumFractionDigits: 2})}`;
            document.getElementById('resultLTV').textContent = 
                `LTV: ${parseFloat(results.ltv).toFixed(2)}%`;
            document.getElementById('resultFICO').textContent = 
                `FICO Score: ${results.fico}`;
            document.getElementById('resultPropertyType').textContent = 
                `Property Type: ${results.propertyType.split('-').map(word => 
                    word.charAt(0).toUpperCase() + word.slice(1)
                ).join(' ')}`;
            document.getElementById('resultState').textContent = 
                `State: ${results.state} - ${results.stateName}`;

            // Clear localStorage to prevent showing stale results
            localStorage.removeItem('loanResults');
        });
    </script>
</body>
</html>